<?xml version="1.0" encoding="utf-8"?>
<s:NavigatorContent xmlns:fx="http://ns.adobe.com/mxml/2009" 
					xmlns:s="library://ns.adobe.com/flex/spark"
					xmlns:mx="library://ns.adobe.com/flex/mx" 
					xmlns:components="org.cim.components.*"
					width="100%" height="100%"> <!-- was width=1920, height=1080 -->
	
	<fx:Script>
		<![CDATA[
			
			/**
			 * The function to be called when the signup button is clicked.
			 */
			public var loginFunction:Function;
			
			/**
			 * The function to be called when the signup button is clicked.
			 */
			public var signupFunction:Function;
			
			
			/**
			 * Attempts to call the login function as defined.
			 */
			private function login():void {
				try {
					loginFunction();
				} catch(e:Error) {
					trace("no login function defined");
				}
			}
			
			/**
			 * Attempts to call the sign up function as defined.
			 */
			private function signup():void {
				try {
					signupFunction();
				} catch(e:Error) {
					trace("no signup function defined");
				}
			}
			
			/**
			 * Takes the user to the questions/comments website.
			 */
			private function goToSurvey():void {
				// leave full screen and maximize the window
				NativeApplication.nativeApplication.activeWindow.stage.displayState = StageDisplayState.NORMAL;
				NativeApplication.nativeApplication.activeWindow.maximize();
				
				// open the global "return" window
				
				// navigate to the survey
				navigateToURL(new URLRequest("http://www.openorchestra.ca/survey.php"), "_blank");
			}
		]]>
	</fx:Script>
	
	<s:layout>
		<s:VerticalLayout gap="60" verticalAlign="middle" horizontalAlign="center" />
	</s:layout>
	
	<!--<s:Label text="Open Orchestra" fontWeight="bold" fontSize="30" width="680" styleName="headerTitleLabel" />-->
	
	<!-- Selection Buttons (Login or Signup) -->
	<s:HGroup width="680" height="400" paddingLeft="50" paddingRight="50" horizontalAlign="center" verticalAlign="middle"> <!-- horizAlign, vertAlign added for deployment -->
		<!-- removed for deployment
		<s:VGroup gap="10">
		<s:Label text="Not a member yet?" fontSize="20" />
		<s:BorderContainer width="190" height="90" cornerRadius="8" 
		borderColor="0x999999" borderStyle="solid" borderWeight="1"
		click="signup()">
		<s:layout>
		<s:VerticalLayout verticalAlign="middle" horizontalAlign="center" />
		</s:layout>
		
		<s:Label text="Register" styleName="header" />
		</s:BorderContainer>
		</s:VGroup>
		
		<mx:Spacer width="100%" />
		-->
		
		<s:VGroup gap="10">
			<!--<s:Label text="Already a member?" fontSize="20" /> removed for deployment-->
			<s:BorderContainer width="516" height="273" cornerRadius="8" 
							   borderColor="0x999999" borderStyle="solid" borderWeight="1"
							   click="login()"> <!-- was width=190, height = 90 -->
				<s:layout>
					<s:VerticalLayout verticalAlign="middle" horizontalAlign="center" />
				</s:layout>
				
				<mx:Spacer height="3" />
				
				<mx:Image source="/assets/images/login.png" width="500" smoothBitmapContent="true" />
			</s:BorderContainer>
		</s:VGroup>
	</s:HGroup>
	
	<!-- Survey Button -->
	<s:Button label="Questionnaire" width="250" height="24" x="{20}" y="{this.height - 24 - 20}" includeInLayout="false"
			  click="goToSurvey()" />
	
	<!-- Quit Button -->
	<s:Button label="Quit" width="80" height="24" x="{this.width - 100}" y="{this.height - 24 - 20}" includeInLayout="false"
			  click="NativeApplication.nativeApplication.exit()" />
	
</s:NavigatorContent>
